<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>学习 Motoko 的基础知识 :: Motoko documentation</title>
    <meta name="generator" content="Antora 3.0.1">
<link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /><meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:title" content="Internet Computer | Documentation" />
<meta property="og:description" content="Documentation for the internet computer." />
<meta property="og:image" content="../../_/img/share.jpg" />
<meta property="og:image:url" content="../../_/img/share.jpg" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@DFINITYDev" />
<meta name="twitter:image" content="../../_/img/logo-RGB.png" />
<meta name="twitter:image:alt" content="ICPL Logo" />
    <script>
        if (location.hostname === 'sdk.dfinity.org') {
            location.replace(location.href.replace("sdk.dfinity.org","smartcontracts.org"));
        }
    </script>


    <!-- Appzi: Capture Insightful Feedback -->
    <script async src="https://w.appzi.io/w.js?token=Zrf92"></script>
    <!-- End Appzi -->

    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<script>
  function switchToLightMode(persist) {
    document.querySelector("body").classList.remove("dark-mode");
    if (persist) {
      localStorage.setItem("theme-preference", "light");
    }
  }
  function switchToDarkMode(persist) {
    document.querySelector("body").classList.add("dark-mode");
    if (persist) {
      localStorage.setItem("theme-preference", "dark");
    }
  }

  var themePreference = localStorage.getItem("theme-preference");

  if (themePreference == "dark") {
    switchToDarkMode(false);
  } else if (themePreference == "light") {
    switchToLightMode(false);
  } else {
    // dark mode by default
    switchToDarkMode(false);

    // uncomment to enable setting the defult by user preference
    // try {
    //   if (
    //     window.matchMedia &&
    //     window.matchMedia("(prefers-color-scheme: dark)").matches
    //   ) {
    //     switchToDarkMode(false);
    //   }
    // } catch {}
  }
</script>
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="logo-container" href="/icp-docs-cn/docs/introduction/welcome.html">
        <img class="header-logo" src="../../_/img/logo.svg">
        <img class="header-logo dark" src="../../_/img/logo-dark.svg">
        <h1 class="header-title">Motoko documentation</h1>
      </a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
          <!--<a class="navbar-item" target="blank" href="https://dfinity.org/">DFINITY.org</a>-->
          <a class="navbar-item" target="blank" href="https://icpleague.com/">论坛</a>
          <!--<a class="navbar-item" target="blank" href="mailto:support@dfinity.org?subject=Feedback - SDK Developer Center">Email us</a>-->
          <!--<a class="navbar-item" target="blank" href="https://support.dfinity.org/">Support</a>          -->
          <a class="navbar-item" target="blank" href="https://twitter.com/icpleague_com">
            <img class="light-only" src="../../_/img/social/twitter-icon.svg">
            <img class="dark-only" src="../../_/img/social/twitter-icon-dark.svg">
          </a>
      </div>
    <div class="nav-items-wrapper">
      <button class="to-light-mode dark-only" aria-label="switch to light mode" onclick="switchToLightMode(true)"></button>
      <button class="to-dark-mode light-only" aria-label="switch to dark mode" onclick="switchToDarkMode(true)"></button>
      <div class="search-container">
  <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd"
      d="M11.8654 12.5892C10.8213 13.4695 9.47259 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8C14 9.47209 13.4699 10.8204 12.5901 11.8643L17.3625 16.6367L16.6377 17.3615L11.8654 12.5892ZM12.9333 8C12.9333 10.7246 10.7246 12.9333 8 12.9333C5.2754 12.9333 3.06667 10.7246 3.06667 8C3.06667 5.2754 5.2754 3.06667 8 3.06667C10.7246 3.06667 12.9333 5.2754 12.9333 8Z"
      fill="black" />
  </svg>


  <input class="search-input" placeholder="Search" type="search" />
</div>      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      </div>

      <!--这是彩色的阴影条-->
    <!--<div class="gradient-decoration"></div>-->
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title">Docs</h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction/welcome.html"><strong>介绍</strong></a>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/welcome.html#for-first-timers">适合: 初学者</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/welcome.html#for-developers">适合: 开发者</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/welcome.html#for-protocol-enthusiasts">适合: 协议爱好者</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../quickstart/quickstart-intro.html">快速开始</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../quickstart/how-to-deploy-hello-world-smart-contract.html">20分钟部署第一个DAPP</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../quickstart/cycles-faucet.html">获取免费的Cycles</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../examples/index.html">示例代码</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/hello.html">Hello示例</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/host-a-website.html">托管静态网站</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/dex.html">基本的DEX</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/nft.html">铸造NFT</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/dao.html">基本的DAO</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/encrypted-notes.html">加密笔记</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/tokentransfer.html">代币转账</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">开发者文档</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">入门</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SDK介绍</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="install-upgrade-remove.html">安装、升级或删除软件</a>

  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../release-notes/sdk-release-notes.html">Release notes</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.9.2-rn.html">0.9.2</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.9.0-rn.html">0.9.0</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.8.4-rn.html">0.8.4</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.8.3-rn.html">0.8.3</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.8.2-rn.html">0.8.2</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.8.1-rn.html">0.8.1</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.8.0-rn.html">0.8.0</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.7.7-rn.html">0.7.7</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.7.2-rn.html">0.7.2</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.7.1-rn.html">0.7.1</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.7.0-rn.html">0.7.0</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.26-rn.html">0.6.26</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.25-rn.html">0.6.25</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.24-rn.html">0.6.24</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.23-rn.html">0.6.23</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.22-rn.html">0.6.22</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.21-rn.html">0.6.21</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.20-rn.html">0.6.20</a>

  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">DFX介绍</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="cli-reference.html">DFX命令</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="cli-reference/dfx-envars.html">DFX环境变量</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="glossary.html">术语表</a>

  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">在互联网计算机上构建</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">了解如何构建:</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="sdk-guide.html">在IC上开发智能合约</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="design-apps.html">设计应用程序</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="customize-projects.html">管理项目</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="working-with-canisters.html">管理容器</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="default-wallet.html">使用默认的cycles钱包</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/explore-templates.html">探索默认项目</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/define-an-actor.html">使用actor查询</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/hello-location.html">传递text参数</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/counter-tutorial.html">递增自然数</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/calculator.html">在计算器函数中使用整型</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/phonebook.html">导入库模块</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/multiple-actors.html">使用多个actor</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/intercanister-calls.html">进行canister之间调用</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/access-control.html">使用身份添加访问控制</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/simple-cycles.html">从钱包接受cycles</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/reproducible-builds.html">可重复地构建容器</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="troubleshooting.html">故障排查</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">探索开发语言</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="work-with-languages.html">使用不同的语言进行开发</a>

  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../language-guide/motoko.html">Motoko</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="https://m7sm4-2iaaa-aaaab-qabra-cai.raw.ic0.app/">Motoko在线环境</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#base-libraries:stdlib-intro.adoc">Motoko基础库</a>

  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Motoko Guide</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/about-this-guide.html">关于本指南</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/motoko-introduction.html">介绍</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/basic-concepts.html">基本概念和术语</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/mutable-state.html">可变状态</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/local-objects-classes.html">本地对象和类</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/actors-async.html">Actors和异步数据</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/errors.html">错误处理</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/pattern-matching.html">模式匹配</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/sharing.html">共享数据和行为</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/modules-and-imports.html">模块和导入</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/control-flow.html">(命令式)控制流</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/structural-equality.html">结构方程(平等)</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/actor-classes.html">Actor类</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/caller-id.html">Principals和调用者身份</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/cycles.html">管理cycles</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/upgrades.html">稳定变量与upgrade方法</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/compatibility.html">更新升级的兼容性</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/stablememory.html">稳定存储(实验性)</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/heartbeats.html">心跳机制(定时任务)</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/language-manual.html">语言速览手册</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/compiler-ref.html">编译器手册</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/motoko-grammar.html">Motoko语法</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/overview.html">Motoko简介</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../language-guide/style.html">Motoko编程规范</a>

  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#rust-guide:rust-intro.adoc">Rust</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#rust-guide:rust-quickstart.adoc">快速开始</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#rust-guide:rust-counter.adoc">简单的计数器</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#rust-guide:multiply-dependency.adoc">基础依赖</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#rust-guide:rust-profile.adoc">简介</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#rust-guide:rust-optimize.adoc">优化Rust程序</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#candid-guide:candid-intro.adoc">Candid</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#candid-guide:candid-concepts.adoc">什么是Candid?</a>

  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#candid-guide:candid-howto.adoc">如何使用</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="#candid-guide:candid-types.adoc">支持的类型</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="https://github.com/dfinity/candid">Candid规范</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="https://docs.rs/candid">Candid的Rust库</a>

  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">介绍互联网身份</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#ic-identity-guide:what-is-ic-identity.adoc">什么是互联网身份</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#ic-identity-guide:auth-how-to.adoc">如何使用互联网身份</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#ic-identity-guide:hello-guide.adoc">Windows Hello指南</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">前端开发</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="webpack-config.html">添加前端资源</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/custom-frontend.html">自定义前端</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tutorials/my-contacts.html">添加CSS样式</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Security Best Practices</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../security-best-practices/introduction.html">Introduction</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../security-best-practices/general-security-best-practices.html">General Security Best Practices</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../security-best-practices/web-app-development-security-best-practices.html">Web App Development Security Best Practices</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../security-best-practices/rust-canister-development-security-best-practices.html">Rust Canister Development Security Best Practices</a>

  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">协议文档</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="concepts/concepts-intro.html">概念</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="concepts/what-is-IC.html">什么是IC(互联网计算机)</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#interface-spec:index.adoc">互联网计算机接口规范</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="concepts/nodes-subnets.html">节点和子网络</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="concepts/data-centers.html">去中心化数据中心</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="concepts/canisters-code.html">Canister和代码</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="concepts/trust-in-canisters.html">信任canister</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="concepts/tokens-cycles.html">代币和cycles</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="concepts/governance.html">神经元和治理</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="concepts/bitcoin-integration.html">比特币整合</a>

  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">通用文档</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Overview of self-custody</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../token-holders/custody-options-intro.html">Choosing self-custody for digital assets</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../token-holders/self-custody-quickstart.html">Self-custody quick start</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">账本概述</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../integration/ledger-quick-start.html">账本快速开始</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">NNS概述</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../token-holders/nns-app-quickstart.html">NNS应用快速开始</a>

  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">其他资源</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">开发者视频</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://www.youtube.com/watch?v=oxEr8UzGeBo&amp;list=PLuhDt1vhGcrf4DgKZecU3ar_RA1cB0vUT&amp;index=11&amp;ab_channel=DFINITY" target="_blank" rel="noopener">Internet Identity</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://www.youtube.com/watch?v=4eSceDOS-Ms&amp;list=PLuhDt1vhGcrf4DgKZecU3ar_RA1cB0vUT&amp;index=21&amp;ab_channel=DFINITY" target="_blank" rel="noopener">Motoko</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://www.youtube.com/watch?v=GzkRsbqPaA0&amp;ab_channel=DFINITY" target="_blank" rel="noopener">Building a multiplayer game for the Internet Computer</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://www.youtube.com/watch?v=b_nc6yx5_DQ&amp;list=PLuhDt1vhGcrf4DgKZecU3ar_RA1cB0vUT&amp;index=7&amp;ab_channel=DFINITY" target="_blank" rel="noopener">Deploying static sites to the Internet Computer</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://www.youtube.com/watch?v=2miweY9-vZc&amp;list=PLuhDt1vhGcrf4DgKZecU3ar_RA1cB0vUT&amp;index=6&amp;ab_channel=DFINITY" target="_blank" rel="noopener">Zero to fullstack: web apps on the Internet Computer </a></span>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">协议视频</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://dfinity.org/technicals/" target="_blank" rel="noopener">Technical library</a></span>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">开发者工具</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../download.html">DFINITY Canister SDK</a>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/dfinity/cdk-rs" target="_blank" rel="noopener">Rust CDK</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/kritzcreek/vessel" target="_blank" rel="noopener">Vessel Package Manager</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://marketplace.visualstudio.com/items?itemName=dfinity-foundation.vscode-motoko" target="_blank" rel="noopener">Motoko VS Code Extension</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/dfinity/agent-js" target="_blank" rel="noopener">Agent JS</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/sudograph/sudograph" target="_blank" rel="noopener">Sudograph</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/dfinity/cycles-wallet" target="_blank" rel="noopener">Cycles Wallet</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://m7sm4-2iaaa-aaaab-qabra-cai.raw.ic0.app/" target="_blank" rel="noopener">Motoko Playground</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/dfinity/quill" target="_blank" rel="noopener">Quill</a></span>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">社区资源</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://ic.rocks/" target="_blank" rel="noopener">ic.rocks (Block explorer)</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://plugwallet.ooo/" target="_blank" rel="noopener">Plug (Browser-based wallet extension)</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://fleek.co/" target="_blank" rel="noopener">Fleek (Netlify for the open web)</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="http://faucet.dfinity.org/" target="_blank" rel="noopener">Cycles Faucet</a></span>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="computation-and-storage-costs.html">Computation and Storage Costs</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">社区</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-text"><a href="https://discord.gg/cA7y6ezyE2" target="_blank" rel="noopener">Developer Discord</a></span>

  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text"><a href="https://forum.dfinity.org/" target="_blank" rel="noopener">Developer Forum</a></span>

  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Developer Center</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Developer Center</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle">Table of contents</button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Developer Center</a></li>
    <li><a href="basic-syntax-rules.html">学习 Motoko 的基础知识</a></li>
  </ul>
</nav>
</div>
<div class="main-content">
<article class="doc">
<h1 class="page">学习 Motoko 的基础知识</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>:平台:互联网计算机平台
:IC: 互联网计算机
:ext: .mo
:company-id: DFINITY</p>
</div>
<div class="paragraph">
<p>Internet Computer platform 的一个关键特性是 Motoko 编程语言。
Motoko 编程语言是一种高级通用语言，类似于其他现代编程语言，但专门设计用于有效处理异步消息传递。</p>
</div>
<div class="paragraph">
<p>尽管 Motoko 提供了一个可以交互使用的解释器和一个独立的编译器，但您可以编写程序和编译您的代码，而无需直接使用其中任何一个。
相反，在大多数情况下，您通过您选择的编辑器并使用 <code>dfx</code> 命令行执行工具间接与编程语言交互。</p>
</div>
<div class="paragraph">
<p>为了帮助您开始使用这种新语言，本节提供了该语言的简要概述，并描述了使用 Motoko 编写程序的一些基本约定。
有关在 Motoko 中编程的更完整信息，包括特定语言功能和详细示例，请参阅_语言参考指南_。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_actors_和异步消息传递"><a class="anchor" href="#_actors_和异步消息传递"></a>Actors 和异步消息传递</h2>
<div class="sectionbody">
<div class="paragraph">
<p>当您开始探索 Motoko 编程语言时，您应该记住，每个应用程序都由一个 <strong>actor</strong> 组成，它通过异步传递消息与其他参与者通信。</p>
</div>
<div class="paragraph">
<p>Actor 是一种特殊的对象，它以隔离状态传递其消息。
当您定义一个参与者时，它的消息会按顺序处理，但彼此隔离。 作为使用actor的示例，请考虑以下程序:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">let result1 = await service1.computeAnswer(params);
let result2 = await service2.computeAnswer(params);
finalStep(result1, result2)</code></pre>
</div>
</div>
<div class="paragraph">
<p>在此示例中，程序向两个不同的服务发出两个请求。
每个服务都在内部作为参与者（对象）实现。
程序使用 <code>await</code> 关键字按顺序等待每个结果值。
然后程序在最后一步使用每个请求的结果，调用函数`finalStep`。</p>
</div>
<div class="paragraph">
<p>基于参与者的编程模型特别适合编写旨在在 Internet Computer platform 上运行的程序。
但是，您也可以在 Motoko 中编写程序以在其他平台和其他框架内运行。
如果您正在编写在其他平台上运行的程序，您可能根本不使用参与者对象或异步消息传递。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_接口描述和motoko"><a class="anchor" href="#_接口描述和motoko"></a>接口描述和Motoko</h2>
<div class="sectionbody">
<div class="paragraph">
<p>为了支持多语言和跨语言通信，Motoko 编译器自动生成和使用接口描述。
Motoko 编译器使用 Motoko 程序中的类型签名和导入的预定义接口的结构生成接口描述。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prelude_和标准库函数"><a class="anchor" href="#_prelude_和标准库函数"></a>Prelude 和标准库函数</h2>
<div class="sectionbody">
<div class="paragraph">
<p>与其他语言一样，Motoko 在预定义的前奏和标准库文件中包含许多常用函数，您可以将它们导入程序中。
通过导入 prelude 或标准库，您可以使用诸如 <code>println</code> 之类的常用函数，而无需在程序中明确定义它们。</p>
</div>
<div class="paragraph">
<p>例如，您可能包括类似于以下的行来从标准库中导入列表函数:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">import List "../../motoko/base/list";</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_基本语言功能"><a class="anchor" href="#_基本语言功能"></a>基本语言功能</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本节描述了在 Motoko 中编程需要了解的基本语言约定。</p>
</div>
<div class="sect2">
<h3 id="_评论"><a class="anchor" href="#_评论"></a>评论</h3>
<div class="paragraph">
<p>您可以使用单行、多行或嵌套的多行注释在代码中包含描述性的非可执行文本。
例如，使用注释来添加有关代码块的上下文，作为给您自己的注释或作为您想要与任何审查或维护您的代码的人共享的信息。
格式正确的注释被视为空白并被编译器忽略。</p>
</div>
<div class="sect3">
<h4 id="_单行注释"><a class="anchor" href="#_单行注释"></a>单行注释</h4>
<div class="paragraph">
<p>单行注释以两个正斜杠 (//) 开头，由 <code>//</code> 之后的字符组成，直到同一行的末尾。
例如，您可以在上面、下面或与注释适用的代码相同的行上添加单行注释。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">// This is a single-line comment on its own line above relevant code
import List = "ListLib";</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_多行和嵌套注释"><a class="anchor" href="#_多行和嵌套注释"></a>多行和嵌套注释</h4>
<div class="paragraph">
<p>您还可以包含单行、多行和嵌套的多行注释，方法是以正斜杠开头，后跟星号 (/*)，以星号结尾，后跟正斜杠 (*/)。
例如:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">/*
This is a comment that is split into
multiple lines.
*/</code></pre>
</div>
</div>
<div class="paragraph">
<p>您还可以通过启动一个多行注释块，然后在第一个块中启动第二个多行注释来编写嵌套的多行注释。
例如:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">/* 这是第一个多行注释块的开始。
    /* 这是第二个嵌套的多行注释。 */
这是第一个多行注释块的结尾。 */</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_程序声明和表达式"><a class="anchor" href="#_程序声明和表达式"></a>程序、声明和表达式</h3>
<div class="paragraph">
<p>每个 Motoko 程序由零个或多个声明组成，后跟一个可选表达式。
例如，下面的代码片段由变量`x<code>和</code>y`的两个声明组成，后跟一个表达式，形成一个程序:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">let x = 1;
let y = x + 1;
x * y + x;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如本例所示，您使用分号 (;) 来终止声明和表达式。 例如，要计算一个简单的方程:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">1 + 3; // When executed, the result would be "4 : Nat" value and type</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_数字文本和运算符"><a class="anchor" href="#_数字文本和运算符"></a>数字、文本和运算符</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Motoko 支持以下数字类型:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>自然数 (<code>Nat</code>) 是正整数。</p>
</li>
<li>
<p>整数 (<code>Int</code>) 是正、负或零整数值。</p>
</li>
<li>
<p>浮点数 (<code>Float</code>) 是 32 位或 64 位小数数值。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>基本算术运算符按您的预期工作。 例如:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">1 + 1;      // = 2
0.1 + 0.2;  // = 0.3
8 - 1;      // = 7
10 * 2;     // = 20
35 / 5;     // = 7</code></pre>
</div>
</div>
<div class="paragraph">
<p>您可以使用双 (") 引号将文本括起来。例如:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">let name = "Chris"; // let name : Text = "Chris"</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_关系运算符"><a class="anchor" href="#_关系运算符"></a>关系运算符</h3>
<div class="paragraph">
<p>您可以在 Motoko 程序中使用以下关系运算符。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">使用此</th>
<th class="tableblock halign-left valign-top">定义此关系</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>␣&lt;␣</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">小于。 运算符必须用空格括起来。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>␣&gt;␣</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">大于。 运算符必须用空格括起来。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>==</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">等于。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>!=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">不等于。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">小于或等于。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">大于或等于。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_数字二元运算符"><a class="anchor" href="#_数字二元运算符"></a>数字二元运算符</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">使用此</th>
<th class="tableblock halign-left valign-top">用于此操作</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">加法。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">减法。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">乘法。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">除法。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">取模。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+**</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">求幂。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_位二元运算符"><a class="anchor" href="#_位二元运算符"></a>位二元运算符</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">使用此</th>
<th class="tableblock halign-left valign-top">用于此操作</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&amp;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">按位与。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>|</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">按位或。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>^</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">异或。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;&lt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">左移。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>␣&gt;&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">右移。 运算符前面必须有空格。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;&lt;&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">向左旋转。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;&gt;&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">向右旋转。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_字符串运算符"><a class="anchor" href="#_字符串运算符"></a>字符串运算符</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">使用此</th>
<th class="tableblock halign-left valign-top">用于此操作</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>#</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文本连接。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_赋值运算符"><a class="anchor" href="#_赋值运算符"></a>赋值运算符</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">使用此</th>
<th class="tableblock halign-left valign-top">用于此操作</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>:=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">使用就地更新的分配。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">就地添加。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">就地减法。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">就地乘法。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">就地划分。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">就地取模。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>**=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">就地取幂。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&amp;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">就地逻辑与。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>|=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">就地逻辑或。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>^=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">就地异或。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;&lt;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">原地左移。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;&gt;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">原地右移。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;&lt;&gt;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">原地向左旋转。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;&gt;&gt;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">原地向右旋转。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>#=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">就地串联。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_变量"><a class="anchor" href="#_变量"></a>变量</h3>
<div class="paragraph">
<p>变量使您能够将静态名称和类型与仅在执行程序时出现的动态值相关联。</p>
</div>
<div class="paragraph">
<p>您可以使用 <code>let</code> 关键字声明变量名和数据类型（如有必要）。 例如，您可以使用以下表示法将变量 <code>x</code> 设置为自然数 1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">let x : Nat = 1;</code></pre>
</div>
</div>
<div class="paragraph">
<p>在这个例子中，编译器可以推断出表达式 1 的类型为 <code>Nat</code>，而 <code>x</code> 的类型相同。 因此，您可以在不改变程序含义的情况下使用以下注解:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">let x = 1</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_原始值"><a class="anchor" href="#_原始值"></a>原始值</h3>
<div class="paragraph">
<p>Motoko 支持以下原始类型:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>布尔值（真，假）</p>
</li>
<li>
<p>整数 (…​,-2, -1, 0, 1, 2, …​)</p>
</li>
<li>
<p>自然数 (0, 1, 2, &#8230;&#8203;​)</p>
</li>
<li>
<p>单词（固定宽度的数字）</p>
</li>
<li>
<p>字符（Unicode 代码点）</p>
</li>
<li>
<p>文本值（Unicode 字符的字符串）</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>整数和自然数不会默默地溢出或溢出。
相反，他们使用增长来适应任何有限数字的表示。 还有固定宽度的整数和自然数（8 位、16 位、32 位和 64 位）类型会捕获算术溢出和下溢。 固定宽度的整数是有符号的。 固定宽度的自然数是无符号的。</p>
</div>
<div class="paragraph">
<p>字值具有固定宽度。 字类型的算术使用模 2**N 执行，其中 N 是字类型的位宽。</p>
</div>
<div class="paragraph">
<p>Motoko 不允许未检查、未捕获的溢出。</p>
</div>
<div class="paragraph">
<p>所有原始类型都是可共享的，以便可以跨远程函数调用发送和接收它们。</p>
</div>
</div>
<div class="sect2">
<h3 id="_非原始值"><a class="anchor" href="#_非原始值"></a>非原始值</h3>
<div class="paragraph">
<p>基于上面的原始值和类型，该语言允许用户定义类型，以及以下每种非原始值形式和相关类型:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>元组，包括单位值（“空元组”）。</p>
</li>
<li>
<p>不可变和可变形式的数组。</p>
</li>
<li>
<p>具有命名的、无序的字段和方法的对象。</p>
</li>
<li>
<p>变体，具有命名构造函数和可选的有效负载值。</p>
</li>
<li>
<p>函数值，包括可远程调用的可共享函数。</p>
</li>
<li>
<p>异步值，也称为 <strong>futures</strong> 或 <strong>promises</strong>，可以使用 <code>await</code> 进行同步。</p>
</li>
<li>
<p>可选值，可以是 <code>null</code> 或 <code>? v</code>，以获得正确的值`v`。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>请注意，如果您的函数返回类型为 <code>T</code> 的可选值，则该函数的返回类型应为 '? T':
用问号 (?) 为类型添加前缀会添加 <code>null</code> 值。
例如，您将使用以下语法来指示由 <code>?Phone</code> 标识的类型的返回值是可选的（例如，返回值可以是 <code>null</code> 以及正确的电话号码）:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">public query func lookup(name: Name): async <strong>?Phone</strong> {
        return A.find<Name, Phone>(book, name, nameEq);
    };</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_功能"><a class="anchor" href="#_功能"></a>功能</h3>
<div class="paragraph">
<p>一等函数支持多个参数和返回，并且可以是多态的。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>T -&gt; U</code></p>
</li>
<li>
<p><code>(T, U) -&gt; (V, W)</code></p>
</li>
<li>
<p><code>(x : T, y : U) -&gt; V</code></p>
</li>
<li>
<p><code>&lt;A, B&gt;(x : T, y : U) -&gt; (V, W)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Functions can be defined as <code>public</code> or <code>private</code>, <code>shared</code>, or locally-scoped.</p>
</div>
</div>
<div class="sect2">
<h3 id="_对象和actor"><a class="anchor" href="#_对象和actor"></a>对象和actor</h3>
<div class="paragraph">
<p>对象是结构记录类型，其字段可以是可变的或不可变的。
具有不可变字段的对象是可共享的。</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{var x : Int; color : Color}
{x : Int; color: Color}</pre>
</div>
</div>
<div class="paragraph">
<p>Actor 是具有以下特征的受限对象:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>状态必须是孤立的。</p>
</li>
<li>
<p>公共方法是隐含的`shared`。</p>
</li>
<li>
<p>所有交互都是异步的。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Actor 对象被标记为 <code>actor</code>，语法类似于
下列的:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>actor {
  private var c = 0;
  public func inc() { c += 1 };
  public func get() : async Int { c }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Actor 的字段是返回以下任一函数的函数:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>空单元返回类型 <code>()</code>，类似于 <code>void</code> 返回值。</p>
</li>
<li>
<p>一个`async<code>返回类型，本质上是一个</code>promise`返回一个未来值。</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_数组"><a class="anchor" href="#_数组"></a>数组</h3>
<div class="paragraph">
<p>您可以定义不可变或可变数组。
不可变数组和可变数组使用的赋值语法相同，但分配后不能更改不可变数组。</p>
</div>
<div class="paragraph">
<p>下面是一个简单的、不可变数组的示例，它包含三个自然数，类型为 <code>[Nat]</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">let test_array : [Nat] = [1, 2, 3] ;</code></pre>
</div>
</div>
<div class="paragraph">
<p>通常，不可变数组在数组元素的类型周围使用方括号，这些元素必须共享一个通用类型。
因为不可变数组不能被修改，所以不可变数组可以安全地发送和共享。</p>
</div>
<div class="paragraph">
<p>与不可变数组不同，Motoko 中的每个可变数组都引入了一个私有的 Actor 状态，该状态可以在本地使用，但不能在需要不可变数组的情况下使用。
可变数组不能在消息中共享或发送。
有关使用数组的更多信息，请参阅_Motoko 语言参考_。</p>
</div>
</div>
<div class="sect2">
<h3 id="_元组"><a class="anchor" href="#_元组"></a>元组</h3>
<div class="paragraph">
<p>元组是包含一系列元素的数据结构。
序列中元素的数量是固定的，但元素可以由不同的数据类型组成。
当您希望为具有特定属性的对象提供数据结构但又不想为其创建单独的类型时，通常会使用元组。</p>
</div>
<div class="paragraph">
<p>以下示例使用整数为三维点定义一个元组，以指定位置来表示 x 轴、y 轴和 z 轴上的点以及颜色。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">  type Point3D = (Int, Int, Int, Color);
  let origin = (0, 0, 0, Color.Red);
  let (x, y, z, _) = origin;

  func isOrigin(p : Point3D) : Bool {
    switch p {
      case (0, 0, 0, _) true; // pattern match
      case _ false;
    }
  }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_条件和切换"><a class="anchor" href="#_条件和切换"></a>条件和切换</h3>
<div class="paragraph">
<p>Motoko 支持所有用于表达条件和在案例之间切换的常见结构。</p>
</div>
<div class="paragraph">
<p>例如，您可以编写 <code>if</code> 和 <code>if else</code> 条件，其语法类似于以下:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">if &lt;exp&gt;
  ...</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">if &lt;exp&gt;
  ...
else &lt;exp&gt;
  ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>您还可以使用类似于以下的 <code>+switch</code> 和 <code>+case</code> 语法:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">switch &lt;exp&gt; {
  case 1
    ...;
  case 2
    ...;
  case 3
    ...}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_while_loops_and_iteration"><a class="anchor" href="#_while_loops_and_iteration"></a>While, Loops, and iteration</h3>
<div class="ulist">
<ul>
<li>
<p><code>while (p()) ...</code></p>
</li>
<li>
<p><code>loop ...</code></p>
</li>
<li>
<p><code>loop ... while (p())</code></p>
</li>
<li>
<p><code>for (x in f()) ...</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_标记中断和继续"><a class="anchor" href="#_标记中断和继续"></a>标记、中断和继续</h3>
<div class="paragraph">
<p>标签有助于确保控制流是结构化的，并且可以与 <code>break</code> 和 <code>continue</code> 关键字一起使用。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>label l exp</code></p>
</li>
<li>
<p><code>break l</code> (more generally, <code>break l exp</code>)</p>
</li>
<li>
<p><code>continue l</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_标识符"><a class="anchor" href="#_标识符"></a>标识符</h2>
<div class="sectionbody">
<div class="paragraph">
<p>标识符是字母数字的。
它们必须以大写或小写字母开头，并且可以包含大写或小写字母、数字和下划线的组合。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_保留关键字"><a class="anchor" href="#_保留关键字"></a>保留关键字</h2>
<div class="sectionbody">
<div class="paragraph">
<p>以下关键字保留用于特定目的，不能在 Motoko 代码中用作标识符或用于任何其他目的:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">此关键字</th>
<th class="tableblock halign-left valign-top">为此目的而保留</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">actor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">声明参与者标识符、参与者对象和参与者类。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">and</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean conjunction (short-circuiting).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">声明一个异步函数或创建一个future。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">断言布尔属性（假时捕获）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">await</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">等待异步计算的结果。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">break</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">从带标签的表达式或循环（可能带有值）中退出。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">case</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">前面的 <code>switch</code> 表达式的大小写，由模式和表达式组成。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">catch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">前面的 <code>try</code> 表达式的失败分支。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">类声明（参与者、对象和模块类）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">continue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">继续“loop”或“while”或“for”的下一次迭代。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">条件调试表达式，从`release`代码中排除。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">debug_show</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">显示调试消息。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">else</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">条件表达式的假分支。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">布尔文字值 <strong>false</strong>。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">for</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">迭代迭代器的项目。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">func</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">声明一个名称函数或匿名函数值。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">If</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在布尔值上分支。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ignore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">丢弃表达式的值。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">import</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">将源文件或其他资源作为命名模块导入。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指示 <code>for</code> 循环的域。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">声明一个模块标识符或模块表达式。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">not</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">否定布尔值。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">类型为“Null”的文字值。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">声明一个对象标识符或对象表达式。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">or</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">布尔析取（短路）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">标记一个表达式以通过 <code>break</code> 提前退出。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">let</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">将标识符（或模式）绑定到值。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">loop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">进入一个循环（可能带有一个受保护的出口）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">private</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">将声明的可见性限制为封闭
actor、对象、模块或类。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">public</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">作为附件成员发布声明
actor、对象、模块或类。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">query</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在不修改状态的情况下返回结果的共享函数的修饰符。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">return</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">从函数或异步块中退出（可能带有值）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shared</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">声明一个可以远程调用的函数。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">switch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">条件模式匹配，由案例定义。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">throw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">从有错误的表达式中退出。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">作为比较结果返回的布尔值。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">try</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">声明一个作用域错误处理程序。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">声明一个类型缩写。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">var</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定可更新的（可变）变量、字段或数组。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">while</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">输入一个保护循环。</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
<aside class="toc sidebar">
  
  <div class="toc-menu"></div>
</aside></div>
</main>
</div>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<!--阿里图标库-->
<link rel="stylesheet" href="https://at.alicdn.com/t/font_3286973_o9mkce5aj7.css" />

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
    appId: 'ZM55OFXXZ2',
    apiKey: 'a7d619461c99684e30dd0b3e9d375513',
    indexName: 'smartcontracts.org',
    inputSelector: '.search-input',
    debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
<!--DFINITY帮助机器人-->
<!-- Start of dfinity Zendesk Widget script -->
<!--<script id="ze-snippet" src="https://static.zdassets.com/ekr/snippet.js?key=53121947-c10a-484c-b99b-f89a9fb6f63e"> </script>-->
<!-- End of dfinity Zendesk Widget script -->

<script src="../../_/js/vendor/run_repl.js"></script>
<script type="module">
  import {CodeJar} from 'https://cdn.jsdelivr.net/npm/codejar@3.2.3/codejar.min.js';
  import {withLineNumbers} from 'https://cdn.jsdelivr.net/npm/codejar@3.2.3/linenumbers.js';
  window.CodeJar = CodeJar;
  window.withLineNumbers = withLineNumbers;
</script>
<script type="text/javascript">
async function addPackage(name, repo, version, dir) {
  const meta_url = `../../_/js/vendor/${repo}/flat`;
  const base_url = `../../_/js/vendor/${repo}`;
  const response = await fetch(meta_url);
  const json = await response.json()
  const promises = [];
  const fetchedFiles = [];
  for (const f of json.files) {
    if (f.name.startsWith(`/${dir}/`) && /\.mo$/.test(f.name)) {
      const promise = (async () => {
        const content = await (await fetch(base_url + f.name)).text();
        const stripped = name + f.name.slice(dir.length + 1);
        fetchedFiles.push(stripped);
        Motoko.saveFile(stripped, content);
      })();
      promises.push(promise);
    }
  }
  Promise.all(promises).then(() => {
    Motoko.addPackage(name, name + '/');
    console.log(`Loaded motoko library "${name}"`);
    changeCodeBlock(); // from run_repl.js
  });
}
function loadBase() {
  addPackage('base', 'dfinity/motoko-base', 'dfx-0.6.18', 'src');
}
</script>
<script async src="../../_/js/moc/moc-interpreter-0.6.11.js" onload="loadBase()">
</script>
  </body>
</html>
