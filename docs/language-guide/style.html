<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Motoko style guidelines :: Motoko documentation</title>
    <meta name="generator" content="Antora 3.0.1">
<link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /><meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:title" content="Internet Computer | Documentation" />
<meta property="og:description" content="Documentation for the internet computer." />
<meta property="og:image" content="../../_/img/share.jpg" />
<meta property="og:image:url" content="../../_/img/share.jpg" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@DFINITYDev" />
<meta name="twitter:image" content="../../_/img/logo-RGB.png" />
<meta name="twitter:image:alt" content="ICPL Logo" />
    <script>
        if (location.hostname === 'sdk.dfinity.org') {
            location.replace(location.href.replace("sdk.dfinity.org","smartcontracts.org"));
        }
    </script>


    <!-- Appzi: Capture Insightful Feedback -->
    <script async src="https://w.appzi.io/w.js?token=Zrf92"></script>
    <!-- End Appzi -->

    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<script>
  function switchToLightMode(persist) {
    document.querySelector("body").classList.remove("dark-mode");
    if (persist) {
      localStorage.setItem("theme-preference", "light");
    }
  }
  function switchToDarkMode(persist) {
    document.querySelector("body").classList.add("dark-mode");
    if (persist) {
      localStorage.setItem("theme-preference", "dark");
    }
  }

  var themePreference = localStorage.getItem("theme-preference");

  if (themePreference == "dark") {
    switchToDarkMode(false);
  } else if (themePreference == "light") {
    switchToLightMode(false);
  } else {
    // dark mode by default
    switchToDarkMode(false);

    // uncomment to enable setting the defult by user preference
    // try {
    //   if (
    //     window.matchMedia &&
    //     window.matchMedia("(prefers-color-scheme: dark)").matches
    //   ) {
    //     switchToDarkMode(false);
    //   }
    // } catch {}
  }
</script>
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="logo-container" href="/icp-docs-cn/docs/introduction/welcome.html">
        <img class="header-logo" src="../../_/img/logo.svg">
        <img class="header-logo dark" src="../../_/img/logo-dark.svg">
        <h1 class="header-title">Motoko documentation</h1>
      </a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
          <!--<a class="navbar-item" target="blank" href="https://dfinity.org/">DFINITY.org</a>-->
          <a class="navbar-item" target="blank" href="https://icpleague.com/">论坛</a>
          <!--<a class="navbar-item" target="blank" href="mailto:support@dfinity.org?subject=Feedback - SDK Developer Center">Email us</a>-->
          <!--<a class="navbar-item" target="blank" href="https://support.dfinity.org/">Support</a>          -->
          <a class="navbar-item" target="blank" href="https://twitter.com/icpleague_com">
            <img class="light-only" src="../../_/img/social/twitter-icon.svg">
            <img class="dark-only" src="../../_/img/social/twitter-icon-dark.svg">
          </a>
      </div>
    <div class="nav-items-wrapper">
      <button class="to-light-mode dark-only" aria-label="switch to light mode" onclick="switchToLightMode(true)"></button>
      <button class="to-dark-mode light-only" aria-label="switch to dark mode" onclick="switchToDarkMode(true)"></button>
      <div class="search-container">
  <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd"
      d="M11.8654 12.5892C10.8213 13.4695 9.47259 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8C14 9.47209 13.4699 10.8204 12.5901 11.8643L17.3625 16.6367L16.6377 17.3615L11.8654 12.5892ZM12.9333 8C12.9333 10.7246 10.7246 12.9333 8 12.9333C5.2754 12.9333 3.06667 10.7246 3.06667 8C3.06667 5.2754 5.2754 3.06667 8 3.06667C10.7246 3.06667 12.9333 5.2754 12.9333 8Z"
      fill="black" />
  </svg>


  <input class="search-input" placeholder="Search" type="search" />
</div>      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      </div>

      <!--这是彩色的阴影条-->
    <!--<div class="gradient-decoration"></div>-->
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title">Docs</h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction/welcome.html"><strong>介绍</strong></a>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/welcome.html#for-first-timers">适合: 初学者</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/welcome.html#for-developers">适合: 开发者</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/welcome.html#for-protocol-enthusiasts">适合: 协议爱好者</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../quickstart/quickstart-intro.html">快速开始</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../quickstart/how-to-deploy-hello-world-smart-contract.html">20分钟部署第一个DAPP</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../quickstart/cycles-faucet.html">获取免费的Cycles</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../examples/index.html">示例代码</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/hello.html">Hello示例</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/host-a-website.html">托管静态网站</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/dex.html">基本的DEX</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/nft.html">铸造NFT</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/dao.html">基本的DAO</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/encrypted-notes.html">加密笔记</a>

  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../examples/tokentransfer.html">代币转账</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">开发者文档</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">入门</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SDK介绍</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/install-upgrade-remove.html">安装、升级或删除软件</a>

  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../release-notes/sdk-release-notes.html">Release notes</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.9.2-rn.html">0.9.2</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.9.0-rn.html">0.9.0</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.8.4-rn.html">0.8.4</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.8.3-rn.html">0.8.3</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.8.2-rn.html">0.8.2</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.8.1-rn.html">0.8.1</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.8.0-rn.html">0.8.0</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.7.7-rn.html">0.7.7</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.7.2-rn.html">0.7.2</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.7.1-rn.html">0.7.1</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.7.0-rn.html">0.7.0</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.26-rn.html">0.6.26</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.25-rn.html">0.6.25</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.24-rn.html">0.6.24</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.23-rn.html">0.6.23</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.22-rn.html">0.6.22</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.21-rn.html">0.6.21</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../release-notes/0.6.20-rn.html">0.6.20</a>

  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">DFX介绍</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/cli-reference.html">DFX命令</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/cli-reference/dfx-envars.html">DFX环境变量</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/glossary.html">术语表</a>

  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">在互联网计算机上构建</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">了解如何构建:</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/sdk-guide.html">在IC上开发智能合约</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/design-apps.html">设计应用程序</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/customize-projects.html">管理项目</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/working-with-canisters.html">管理容器</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/default-wallet.html">使用默认的cycles钱包</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/explore-templates.html">探索默认项目</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/define-an-actor.html">使用actor查询</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/hello-location.html">传递text参数</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/counter-tutorial.html">递增自然数</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/calculator.html">在计算器函数中使用整型</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/phonebook.html">导入库模块</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/multiple-actors.html">使用多个actor</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/intercanister-calls.html">进行canister之间调用</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/access-control.html">使用身份添加访问控制</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/simple-cycles.html">从钱包接受cycles</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/reproducible-builds.html">可重复地构建容器</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/troubleshooting.html">故障排查</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">探索开发语言</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/work-with-languages.html">使用不同的语言进行开发</a>

  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="motoko.html">Motoko</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="https://m7sm4-2iaaa-aaaab-qabra-cai.raw.ic0.app/">Motoko在线环境</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#base-libraries:stdlib-intro.adoc">Motoko基础库</a>

  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Motoko Guide</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="about-this-guide.html">关于本指南</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="motoko-introduction.html">介绍</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="basic-concepts.html">基本概念和术语</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="mutable-state.html">可变状态</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="local-objects-classes.html">本地对象和类</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="actors-async.html">Actors和异步数据</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="errors.html">错误处理</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="pattern-matching.html">模式匹配</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="sharing.html">共享数据和行为</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="modules-and-imports.html">模块和导入</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="control-flow.html">(命令式)控制流</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="structural-equality.html">结构方程(平等)</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="actor-classes.html">Actor类</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="caller-id.html">Principals和调用者身份</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="cycles.html">管理cycles</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="upgrades.html">稳定变量与upgrade方法</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="compatibility.html">更新升级的兼容性</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="stablememory.html">稳定存储(实验性)</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="heartbeats.html">心跳机制(定时任务)</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="language-manual.html">语言速览手册</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="compiler-ref.html">编译器手册</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="motoko-grammar.html">Motoko语法</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="overview.html">Motoko简介</a>

  </li>
  <li class="nav-item is-current-page" data-depth="6">
    <a class="nav-link" href="style.html">Motoko编程规范</a>

  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#rust-guide:rust-intro.adoc">Rust</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#rust-guide:rust-quickstart.adoc">快速开始</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#rust-guide:rust-counter.adoc">简单的计数器</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#rust-guide:multiply-dependency.adoc">基础依赖</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#rust-guide:rust-profile.adoc">简介</a>

  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#rust-guide:rust-optimize.adoc">优化Rust程序</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#candid-guide:candid-intro.adoc">Candid</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="#candid-guide:candid-concepts.adoc">什么是Candid?</a>

  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#candid-guide:candid-howto.adoc">如何使用</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="#candid-guide:candid-types.adoc">支持的类型</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="https://github.com/dfinity/candid">Candid规范</a>

  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="https://docs.rs/candid">Candid的Rust库</a>

  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">介绍互联网身份</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#ic-identity-guide:what-is-ic-identity.adoc">什么是互联网身份</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#ic-identity-guide:auth-how-to.adoc">如何使用互联网身份</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#ic-identity-guide:hello-guide.adoc">Windows Hello指南</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">前端开发</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/webpack-config.html">添加前端资源</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/custom-frontend.html">自定义前端</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developers-guide/tutorials/my-contacts.html">添加CSS样式</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Security Best Practices</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../security-best-practices/introduction.html">Introduction</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../security-best-practices/general-security-best-practices.html">General Security Best Practices</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../security-best-practices/web-app-development-security-best-practices.html">Web App Development Security Best Practices</a>

  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../security-best-practices/rust-canister-development-security-best-practices.html">Rust Canister Development Security Best Practices</a>

  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">协议文档</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../developers-guide/concepts/concepts-intro.html">概念</a>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developers-guide/concepts/what-is-IC.html">什么是IC(互联网计算机)</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#interface-spec:index.adoc">互联网计算机接口规范</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developers-guide/concepts/nodes-subnets.html">节点和子网络</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developers-guide/concepts/data-centers.html">去中心化数据中心</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developers-guide/concepts/canisters-code.html">Canister和代码</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developers-guide/concepts/trust-in-canisters.html">信任canister</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developers-guide/concepts/tokens-cycles.html">代币和cycles</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developers-guide/concepts/governance.html">神经元和治理</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developers-guide/concepts/bitcoin-integration.html">比特币整合</a>

  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">通用文档</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Overview of self-custody</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../token-holders/custody-options-intro.html">Choosing self-custody for digital assets</a>

  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../token-holders/self-custody-quickstart.html">Self-custody quick start</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">账本概述</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../integration/ledger-quick-start.html">账本快速开始</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">NNS概述</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../token-holders/nns-app-quickstart.html">NNS应用快速开始</a>

  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">其他资源</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">开发者视频</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://www.youtube.com/watch?v=oxEr8UzGeBo&amp;list=PLuhDt1vhGcrf4DgKZecU3ar_RA1cB0vUT&amp;index=11&amp;ab_channel=DFINITY" target="_blank" rel="noopener">Internet Identity</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://www.youtube.com/watch?v=4eSceDOS-Ms&amp;list=PLuhDt1vhGcrf4DgKZecU3ar_RA1cB0vUT&amp;index=21&amp;ab_channel=DFINITY" target="_blank" rel="noopener">Motoko</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://www.youtube.com/watch?v=GzkRsbqPaA0&amp;ab_channel=DFINITY" target="_blank" rel="noopener">Building a multiplayer game for the Internet Computer</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://www.youtube.com/watch?v=b_nc6yx5_DQ&amp;list=PLuhDt1vhGcrf4DgKZecU3ar_RA1cB0vUT&amp;index=7&amp;ab_channel=DFINITY" target="_blank" rel="noopener">Deploying static sites to the Internet Computer</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://www.youtube.com/watch?v=2miweY9-vZc&amp;list=PLuhDt1vhGcrf4DgKZecU3ar_RA1cB0vUT&amp;index=6&amp;ab_channel=DFINITY" target="_blank" rel="noopener">Zero to fullstack: web apps on the Internet Computer </a></span>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">协议视频</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://dfinity.org/technicals/" target="_blank" rel="noopener">Technical library</a></span>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">开发者工具</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../download.html">DFINITY Canister SDK</a>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/dfinity/cdk-rs" target="_blank" rel="noopener">Rust CDK</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/kritzcreek/vessel" target="_blank" rel="noopener">Vessel Package Manager</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://marketplace.visualstudio.com/items?itemName=dfinity-foundation.vscode-motoko" target="_blank" rel="noopener">Motoko VS Code Extension</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/dfinity/agent-js" target="_blank" rel="noopener">Agent JS</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/sudograph/sudograph" target="_blank" rel="noopener">Sudograph</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/dfinity/cycles-wallet" target="_blank" rel="noopener">Cycles Wallet</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://m7sm4-2iaaa-aaaab-qabra-cai.raw.ic0.app/" target="_blank" rel="noopener">Motoko Playground</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://github.com/dfinity/quill" target="_blank" rel="noopener">Quill</a></span>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">社区资源</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://ic.rocks/" target="_blank" rel="noopener">ic.rocks (Block explorer)</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://plugwallet.ooo/" target="_blank" rel="noopener">Plug (Browser-based wallet extension)</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://fleek.co/" target="_blank" rel="noopener">Fleek (Netlify for the open web)</a></span>

  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="http://faucet.dfinity.org/" target="_blank" rel="noopener">Cycles Faucet</a></span>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developers-guide/computation-and-storage-costs.html">Computation and Storage Costs</a>

  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">社区</span>

<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-text"><a href="https://discord.gg/cA7y6ezyE2" target="_blank" rel="noopener">Developer Discord</a></span>

  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text"><a href="https://forum.dfinity.org/" target="_blank" rel="noopener">Developer Forum</a></span>

  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Developer Center</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Developer Center</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle">Table of contents</button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Developer Center</a></li>
    <li>开发者文档</li>
    <li>在互联网计算机上构建</li>
    <li>探索开发语言</li>
    <li><a href="motoko.html">Motoko</a></li>
    <li>Motoko Guide</li>
    <li><a href="style.html">Motoko编程规范</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/icpleague/icp-docs-cn/edit/main/doc/modules/language-guide/pages/style.adoc"><svg class="edit-icon" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/><path d="M0 0h24v24H0z" fill="none"/></svg></a></div>
  </div>
<div class="main-content">
<article class="doc">
<h1 class="page">Motoko style guidelines</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>To increase readability and uniformity of Motoko source code, the style guide provides suggestions for formatting Motoko sources and other basic conventions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_layout"><a class="anchor" href="#_layout"></a>Layout</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_spacing"><a class="anchor" href="#_spacing"></a>Spacing</h3>
<div class="ulist">
<ul>
<li>
<p>Put spaces around arithmetic operators, except to visually group sub-expressions of more tightly binding operators.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">let z = - 2*x + 3*y + 4*(x*x + y*y);</code></pre>
</div>
</div>
</li>
<li>
<p>Put spaces around comparison operators, Boolean operators, and assignment operators.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">4 + 5 &lt;= 5 + 4;
not (a or b and not c);
v := 0;
v += 1;</code></pre>
</div>
</div>
</li>
<li>
<p>Put spaces around '='.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">var v = 0;
let r = { a = 1; b = 2 };</code></pre>
</div>
</div>
</li>
<li>
<p>Analogously, put spaces around <code>:</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">var v : Nat = 0;
func foo(x : Nat, y : Nat) : Nat { x + y }
func bar((x, y) : (Nat, Nat)) : Nat { x + y }
let w = 1 ^ 0xff : Nat16;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: ':' is to declarations what '=' is to definitions.
Moreover, the left-hand of a type annotation may generally be an arbitrary complex expression or pattern.</p>
</div>
</li>
<li>
<p>Put a space after a comma or semicolon (but not before).</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">let tuple = (1, 2, 3);
let record = { a = 1; b = 2; c = 3 };</code></pre>
</div>
</div>
</li>
<li>
<p>Put spaces inside braces, unless they are a simple variant or record.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func f() { 0 };
f({ a = 1; b = 2; c = 3 });
f({a = 1; b = 2});  // okay as well

type Vec3D = { x : Float; y : Float; y : Float };
type Order = { #less; #equal; #more };

type Order = {#less; #equal; #more};  // okay as well
type Proc = {h : Nat; w : Nat} -&gt; {#ok; #fail};</code></pre>
</div>
</div>
</li>
<li>
<p>Put spaces inside brackets if they stretch multiple lines.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">foo(
  firstArgument,
  ( longTupleComponent, anotherLongExpression,
    moreLongExpression
  ),
  [ 1, 2, 3,
    4, 5, 6,
  ],
  { field1 = 4; field2 = 5;
    field3 = 6;
  }
);</code></pre>
</div>
</div>
</li>
<li>
<p>Put a space between statement keywords and their operands.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">if (f()) A else B;
for (x in xs.vals()) { ... };
switch (compare(x, y)) {
  case (#less) { A };
  case (_) { B };
}

assert (x &lt; 100);
await (async (0));</code></pre>
</div>
</div>
</li>
<li>
<p>Do <em>not</em> put a space between a function or variant tag and its argument tuple or around a generic type parameter list.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">type Pair&lt;X&gt; = (X, X);
type Id = &lt;X&gt;(X) -&gt; X;

let ok = #ok(5);

func id&lt;X&gt;(x : X) : X { x };
id&lt;Nat&gt;(5);</code></pre>
</div>
</div>
</li>
<li>
<p>Put a space between a function and its argument if it is <em>not</em> a tuple or parenthesized expression (see <a href="#parens">Parentheses</a>) or a record used as a named parameter list (see <a href="#picking-types">Picking types</a>).</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">sin 0.0;
g [1, 2, 3];
f{arg1 = 0; arg2 = 0};</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Rationale: <code>g[1]</code> in particular will be misparsed as an indexing operation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Do <em>not</em> put a space around access operators like <code>.</code>, <code>?</code>, <code>!</code>, or index brackets.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">foo(bar).baz[5]().boo;
foom(?(bam()! + 1));</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_line_breaks"><a class="anchor" href="#_line_breaks"></a>Line breaks</h3>
<div class="ulist">
<ul>
<li>
<p>Pick a fixed right margin for lines and break definitions or expressions that are longer than that (80 still is considered a good limit by many).</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">let sum = a + b + 2*c + d +
  e + f + g + h + i + k +
  l + m + n + o + p;

// Or:
let sum =
  a + b + 2*c + d + e +
  f + g + h + i + k + l +
  m + n + o + p;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: Among other reasons, this style of formatting:</p>
</div>
<div class="openblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Avoids code being hidden to the right in a window.</p>
</li>
<li>
<p>Avoids random line breaks in side-by-side diffs (for example, as shown by GitHub or similar code review tools).</p>
</li>
<li>
<p>Allows prettier display on paper, web sites, or other media.</p>
</li>
</ol>
</div>
</div>
</div>
</li>
<li>
<p>Break lines <em>after</em> an operator.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">a + b + c +
  d + f;

foo(bar, baz).
  boo();</code></pre>
</div>
</div>
</li>
<li>
<p>When breaking function definitions or calls with long argument lists, put each argument on a separate line.</p>
<div class="paragraph">
<p>Also, consider using records for long parameter lists, see <a href="#picking-types">Picking types</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func someFunction(
  arg1 : FirstType,
  arg2 : SecondType,
  anotherArg : Nat,
  yetAnother : [Type],
  func : Nat -&gt; Nat,
) : Nat {
  ...
};

someFunction(
  veryLongArgumentExpression,
  anotherVeryLongArgumentExpression,
  3,
  aNestedFunctionCall(
    alsoWithLongArguments,
    andMoreSuchArguments,
  ),
  moreLongishArgument,
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: This prevents overlooking an argument when reading code and avoids re-breaking lines when changing one of the expressions.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_indentation"><a class="anchor" href="#_indentation"></a>Indentation</h3>
<div class="ulist">
<ul>
<li>
<p>Each level of indentation should be 2 spaces.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">actor A {
  public func f() {
    return;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: There may be a lot of nesting. Using only 2 spaces avoids wasting screen estate.</p>
</div>
</li>
<li>
<p>Indentation should not depend on the lexical contents of previous lines.</p>
<div class="paragraph">
<p>In particular, do not vertically align indentation with inner characters from previous lines.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">let x = someFunction(
  arg1, arg2, arg3, arg4, arg5);               // Do this.

let x = someFunction(arg1, arg2, arg3,
  arg4, arg5);                                 // Or this.

let x =
  someFunction(arg1, arg2, arg3, arg4, arg5);  // Or this.

let x = someFunction(                          // Or this.
  longArg1,
  longArg2,
  longArg3,
  longArg4,
  longArg5,
);

// COUNTER EXAMPLE!
let x = someFunction(arg1, arg2, arg3,
                     arg4, arg5);              // DO NOT DO THIS!</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: There are many problems with vertical alignment, for example:</p>
</div>
<div class="openblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>It wastes a lot of horizontal space.</p>
</li>
<li>
<p>It creates wildly inconsistent indentation levels that obfuscate the structure of the code.</p>
</li>
<li>
<p>It can produce realignment churn when changing a line, which (even when automated by editors) inflates and obfuscates diffs.</p>
</li>
<li>
<p>It completely breaks with variable-width fonts.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Rule of thumb: there should be no indentation that is not a multiple of 2.</p>
</div>
</li>
<li>
<p>Do not use tabs.</p>
<div class="paragraph">
<p>Rationale: The interpretation of tabs varies wildly across tools and they get lost or are displayed incorrectly in many contexts, such as web pages, diffs, etc.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_grouping"><a class="anchor" href="#_grouping"></a>Grouping</h3>
<div class="ulist">
<ul>
<li>
<p>Separate complex multi-line definitions with empty lines.
One-liners can be put on consecutive lines.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func foo() {
  // This function does a lot of interesting stuff.
  // It's definition takes multiple lines.
}

func boo() {
  // This is another complicated function.
  // It's definition also takes multiple lines.
}

func add(x : Nat, y : Nat) { return x + y };
func mul(x : Nat, y : Nat) { return x * y };</code></pre>
</div>
</div>
</li>
<li>
<p>Separate logic groups of definitions with two empty lines.
Add a one-line comment as a "section header" for each group.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">// A very large class
class MuffleMiff(n : Nat) {


  // Accessors

  public func miffMuff() : Text {
    ...
  }

  public func sniffMiff() : Nat {
    ...
  }


  // Mutators

  public func clearMurk() {
    ...
  }

  public func addMuff(name : Text) {
    ...
  }


  // Processing

  public func murkMuffle(param : List&lt;Gnobble&gt;) {
    ...
  }

  public func transformSneezler() {
    ...
  }


  // Internal State

  var miffCount = 0;
  var mabbleMap = Map&lt;Nat, Text&gt;();

}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_comments"><a class="anchor" href="#_comments"></a>Comments</h3>
<div class="ulist">
<ul>
<li>
<p>Use line comments (<code>//&#8230;&#8203;</code>).
Use block comments (<code>/* &#8230;&#8203; */</code>) only when commenting in the middle of a line or for commenting out pieces of code during development.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">// The following function runs the current
// pallaboom on a given snibble. It returns
// suitable plexus if it can.
func paBoom(s : Snibble) : Handle&lt;Plexus&gt; {
  let puglet = initPugs(s.crick, 0 /* size */, #local);
/* Don't do the odd stuff yet...
  ...
  ...
*/
  return polyfillNexus(puglet);  // for now
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: Line comments make it easier to insert, remove or swap individual lines.</p>
</div>
</li>
<li>
<p>Put short comments explaining a single line at the end of the line, separated by at least 2 spaces.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">paBoom(getSnibble()));  // create new snibble</code></pre>
</div>
</div>
</li>
<li>
<p>Put multi-line comments before a line of code, with the same indentation as the code it is describing.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func f() {
  // Try to invoke the current pallaboom with
  // the previous snibble. If that succeeds,
  // we have the new plexus; if not, complain.
  let plexusHandle = paBoom(getSnibble()));
}</code></pre>
</div>
</div>
</li>
<li>
<p>Capitalize comments that are on separate lines.
Use a proper full stop for sentences.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_punctuation"><a class="anchor" href="#_punctuation"></a>Punctuation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_semicolons"><a class="anchor" href="#_semicolons"></a>Semicolons</h3>
<div class="ulist">
<ul>
<li>
<p>Motoko uniformly requires a semicolon to separate expressions or local declarations in a block, regardless of whether the preceding declaration ends in a closing '}'.</p>
<div class="paragraph">
<p>Rationale: This is unlike other C-style languages, which tend to have rather ad-hoc rules.</p>
</div>
</li>
<li>
<p>Put a semicolon after the last expression in a block, unless the whole block is written on a single line.</p>
<div class="paragraph">
<p>Similarly for types.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">// No ; needed before closing } on same line

type Vec3D = {x : Float; y : Float; z : Float};
type Result&lt;A&gt; = {#ok : A; #error : Text};

func add(x : Nat, y : Nat) : Nat { return x + y };


// End last case with ;

type Address = {
  first : Text;
  last : Text;
  street : Text;
  nr : Nat;
  zip : Nat;
  city : Text;
};

type Expr = {
  #const : Float;
  #add : (Expr, Expr);
  #mul : (Expr, Expr);
};

func eval(e : Expr) : Float {
  switch (e) {
    case (#const(x)) { x };
    case (#add(e1, e2)) { eval(e1) + eval(e2) };
    case (#mul(e1, e2)) { eval(e1) * eval(e2) };
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: Consistently ending lines with semicolon simplifies adding, removing, or swapping lines.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_braces"><a class="anchor" href="#_braces"></a>Braces</h3>
<div class="ulist">
<ul>
<li>
<p>Put braces around function bodies, <code>if</code> or <code>case</code> branches, and loop bodies, unless they appear nested as an expression and only contain a single expression.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func f(x) { f1(x); f2(x) };

let abs = if (v &gt;= 0) v else -v;
let val = switch (f()) { case (#ok(x)) x; case (_) 0 };
func succ(x : Nat) : Nat = x + 1;</code></pre>
</div>
</div>
</li>
<li>
<p>Use "C-style" layout for braced sub-expressions stretching multiple lines.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func f() {
  return;
};

if (cond) {
  foo();
} else {
  bar();
};

switch (opt) {
  case (?x) {
    f(x);
  };
  case (null) {};
};</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="parens"><a class="anchor" href="#parens"></a>Parentheses</h3>
<div class="ulist">
<ul>
<li>
<p>Motoko supports "parenless" style, meaning that parentheses are optional in most places, such as function parameter lists, or statement operands, when they enclose an expression that either is bracketed already (for example, a tuple, object, or array) or is a simple constant or identifier.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">type Op = Nat -&gt; Nat;
let a2 = Array.map&lt;Nat, Nat&gt;(func x { x + 1 }, a);

let y = f x;
let z = f {};
let choice = if flag { f1() } else { f2() };

switch opt {
  case null { tryAgain() };
  case _ { proceed() };
};</code></pre>
</div>
</div>
</li>
<li>
<p>Avoid overuse of parenless style.</p>
<div class="paragraph">
<p>In particular, do not omit parentheses and braces on statements at the same time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">// COUNTER EXAMPLES!
let choice = if flag x + y else z;  // DO NOT DO THIS!

switch val {
  case 0 f();    // DO NOT DO THIS!
  case n n + 1;  // OR THIS!
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: Omitting both at the same time makes the code harder to read, since there is less visual clue how it groups.</p>
</div>
</li>
<li>
<p>Similarly, do not omit parentheses around function parameters if the function also has type parameters.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">// COUNTER EXAMPLE!
foo&lt;Nat&gt; 0;   // DO NOT DO THIS!</code></pre>
</div>
</div>
</li>
<li>
<p>Omit parentheses around argument types of a function type with a single argument and no type parameters.</p>
<div class="paragraph">
<p>But do not omit them around when functions or classes also have type parameters.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">type Inv = Nat -&gt; Nat;
type Id = &lt;T&gt;(T) -&gt; T;
type Get = &lt;X&gt;(C&lt;X&gt;) -&gt; X;

// COUNTER EXAMPLE!
type Get = &lt;X&gt;C&lt;X&gt; -&gt; X;   // DO NOT DO THIS!</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_miscellaneous"><a class="anchor" href="#_miscellaneous"></a>Miscellaneous</h3>
<div class="ulist">
<ul>
<li>
<p>Use <code>_</code> to group digits in numbers.</p>
<div class="paragraph">
<p>Group by 3 digits in decimal numbers and by 4 in hexadecimal notation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">let billion = 1_000_000_000;
let pi = 3.141_592_653_589_793_12;
let mask : Nat32 = 0xff00_ff0f;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_naming"><a class="anchor" href="#_naming"></a>Naming</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_style"><a class="anchor" href="#_style"></a>Style</h3>
<div class="ulist">
<ul>
<li>
<p>Use <code>UpperCamelCase</code> for type names (including classes or type parameters), module names, and actor names.</p>
</li>
<li>
<p>Use <code>lowerCamelCase</code> for all other names, including constants and variant fields.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">module MoreMuff {
  type FileSize = Nat;
  type Weekday = {#monday; #tuesday; #wednesday};
  type Pair&lt;X&gt; = (X, X);

  class Container&lt;X, Y&gt;() { ... };

  func getValue&lt;Name&gt;(name : Name) : Pair&lt;Name&gt; { ... };

  let zero = 0;
  let pair = getValue&lt;Text&gt;("opus");
  var nifty : Nat = 0;

  object obj { ... };

  actor ServerProxy { ... };
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: The general convention is upper case for "static" entities like types and lower case for "dynamic" values. Modules and actors are fairly static and can export types. Objects usually don&#8217;t export types and tend to be used mostly as dynamic values.</p>
</div>
</li>
<li>
<p>Spell acronyms as regular words.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">type HttpHeader = ...;
func getUrl() { ... };
let urlDigest = ...;</code></pre>
</div>
</div>
</li>
<li>
<p>Do not use identifier names that start with an underscore <code>_</code>, except to document that a variable in a pattern is intentionally unused.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">let (width, _color, name) = rumpler();
...  // _color is not used here


func foo(x : Nat, _futureFlag : Bool) { ... };</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: A type checker can warn about unused identifiers, which can be suppressed by explicitly prepending <code>_</code> to its name to document intention.</p>
</div>
<div class="paragraph">
<p>This aligns with the use of the keyword <code>_</code> for pattern wildcards.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_conventions"><a class="anchor" href="#_conventions"></a>Conventions</h3>
<div class="ulist">
<ul>
<li>
<p>The name of functions returning a value should describe that value (as a noun).</p>
<div class="paragraph">
<p>Avoid redundant <code>get</code> prefixes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">dict.size();
list.first();
sum(array);</code></pre>
</div>
</div>
</li>
<li>
<p>The name of functions performing side effects or complex operations should describe that operation (as a verb in imperative form).</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">dict.clear();
dict.set(key, value);
let result = traverse(graph);</code></pre>
</div>
</div>
</li>
<li>
<p>The name of predicate functions returning <code>Bool</code> should use an <code>is</code> or <code>has</code> prefix or a similar description of the tested property (as a verb in indicative form).</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">class Set&lt;X&gt;() {
  public func size() : Nat { ... };

  public func add(x : X) { ... };
  public func remove(x : X) { ... };

  public func isEmpty() : Bool { ... };
  public func contains(x : X) : Bool { ... };
};</code></pre>
</div>
</div>
</li>
<li>
<p>Functions converting to or from a type <code>X</code> are named <code>toX</code> and <code>fromX</code>, respectively, if the source, resp. target, is either the object the function is a method of, or the primary type of the module this function appears in.</p>
</li>
<li>
<p>In classes or objects, use a name ending with <code>_</code> to distinguish private variables from getters.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">class Cart(length_ : Nat) {
  var width_ = 0;

  public func length() : Nat { return length_ };
  public func width() : Nat { return width_ };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: In Motoko, functions are first-class values, so functions and other value identifiers share the same name space.</p>
</div>
<div class="paragraph">
<p>Identifiers with a leading <code><em></code> should _not</em> be used for private state, since that indicates an unused name (see <a href="#style">[style]</a>).</p>
</div>
</li>
<li>
<p>Use longer, more descriptive names for global or public identifier or ones with large scope, and short names for local ones with small scope.</p>
<div class="paragraph">
<p>It is fine to use single character identifiers when there is nothing interesting to say, especially when using the same naming scheme consistently.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func map(x : Nat, y : Nat) : Nat { x + y };

func eval(e : Expr) : Nat {
  let n =
    switch (e) {
      case (#neg(e1)) { - eval(e1) };
      case (#add(e1, e2)) { eval(e1) + eval(e2) };
      case (#mul(e1, e2)) { eval(e1) * eval(e2) };
    };
  Debug.print(n);
  return n;
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: Contrary to popular belief, overly chatty local names can decrease readability instead of increasing it, by increasing the noise level.</p>
</div>
</li>
<li>
<p>In suitable cases, use plural form for describing a collection of items, such as a list or array.</p>
<div class="paragraph">
<p>This also works for short names.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func foreach&lt;X&gt;(xs : [X], f : X -&gt; ()) {
  for (x in xs.vals()) { f(x) }
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_types"><a class="anchor" href="#_types"></a>Types</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_type_annotations"><a class="anchor" href="#_type_annotations"></a>Type Annotations</h3>
<div class="ulist">
<ul>
<li>
<p>Put type annotations on definitions that involve fixed-width numeric types, to disambiguate the type of overloaded arithmetic operators and constants.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">let mask : Nat32 = 0xfc03_ff00;
let pivot : Nat32 = (size + 1)/2;
let vec : [Int16] = [1, 3, -4, 0];</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Use floating point constants to enforce type <code>Float</code> without an extra annotation.
Similarly, use an explicit <code>+</code> sign to produce a positive value of type <code>Int</code> instead of <code>Nat</code>, if desired.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">let zero = 1.0;    // type Float
let offset = +1;   // type Int</code></pre>
</div>
</div>
</li>
<li>
<p>Similarly, put inline type annotations on arithmetic expressions with types other than <code>Nat</code> or <code>Int</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">if (x &amp; mask == (1 : Nat32)) { ... };</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The need to annotate constants in cases like this is a short-coming of Motoko&#8217;s type system that we hope to address soon.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An annotation is not needed on function arguments, since their type is usually inferred from the function.
The only exception is when that argument has generic type and the type arguments have been omitted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func foo(len : Nat32, vec : [Nat16]) { ... };
func bar&lt;X&gt;(x : X) { ... };

foo(3, [0, 1, 2]);
bar&lt;Nat16&gt;(0);
bar(0 : Nat16);</code></pre>
</div>
</div>
</li>
<li>
<p>Put type annotations on mutable variables, unless their type is obvious.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">var name = "Motoko";
var balance = 0;

func f(i : Int) {
  var j = i;
};

var balance : Int = 0;
var obj : Class = foo();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: Due to subtyping, inferring the type from the initialisation would not necessarily deduce the intended type. For example, <code>balance</code> would have type <code>Nat</code> without the annotation, ruling out assignments of integers.</p>
</div>
</li>
<li>
<p>Put type annotations on all public fields in a class.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">class C(init_ : Nat) {
  public let init : Nat = init_;
  public var count : Nat = 0;
}</code></pre>
</div>
</div>
</li>
<li>
<p>Omit return type annotations of functions when the type is <code>()</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func twiceF() { f(); f() };  // no need to write ": ()"</code></pre>
</div>
</div>
</li>
<li>
<p>Omit type annotations on functions when they are passed as arguments.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">Array.map&lt;Nat, Nat&gt;(func n {n + 1}, a);</code></pre>
</div>
</div>
</li>
<li>
<p>Put type annotations on definitions that involve numeric types other than <code>Nat</code> or <code>Int</code>, to resolve the overloading between arithmetic operators and constants.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">let mask : Nat32 = 0xfc03_ff00;
let offset : Nat32 = size + 1;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="picking-types"><a class="anchor" href="#picking-types"></a>Picking types</h3>
<div class="ulist">
<ul>
<li>
<p>Use <code>Nat</code> for any integral value that cannot be negative.</p>
</li>
<li>
<p>Use fixed-width <code>NatN</code> or <code>IntN</code> only when storing many values and space usage matters, when bit-fiddling requires the low-level interpretation of a number as a vector of bits or when matching types imposed by external requirements, such as other canisters.</p>
</li>
<li>
<p>Avoid proliferation of option types, and therefore <code>null</code>.</p>
<div class="paragraph">
<p>Limit their use to as small a scope as possible. Rule out the <code>null</code> case and use non-option types wherever possible.</p>
</div>
</li>
<li>
<p>Consider using records (objects with just data) instead of tuples when there are more than 2 or 3 components.</p>
<div class="paragraph">
<p>Note that record types need not be declared but can be used in place.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">  func nodeInfo(node : Node) : {parent : Node; left : Node; right : Node} { ... }</code></pre>
</div>
</div>
</li>
<li>
<p>Consider using variants instead of <code>Bool</code> to represent binary choices.</p>
<div class="paragraph">
<p>Note that variant types need not be declared but can be used in place.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func capitalization(word : Text) : {#upper; #lower} { ... }</code></pre>
</div>
</div>
</li>
<li>
<p>Where possible, use return type <code>()</code> for functions whose primary purpose is to mutate state or cause other side effects.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">class Set&lt;X&gt;() {
  public func add(x : X) { ... };
  public func remove(x : X) { ... };
  ...
};</code></pre>
</div>
</div>
</li>
<li>
<p>Consider using a record (an object with just data) as argument for long parameter lists.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func process({seed : Float; delta : Float; data : [Record]; config : Config}) : Thing {
  ...
};

process{config = Config(); data = read(); delta = 0.01; seed = 1.0};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: This expresses named parameters. This way, arguments can be freely reordered at the call site and callers are prevented from accidentally passing them in the wrong order.</p>
</div>
</li>
<li>
<p>Higher-order functions (functions that take a callback argument) should put the function parameter last.</p>
<div class="paragraph">
<p>Rationale: Makes call sites more readable, and in the absence of currying, there is no point in putting the function first, like you often would in functional languages.</p>
</div>
</li>
<li>
<p>Do not use sentinel values, such as <code>-1</code>, to represent invalid values.</p>
<div class="paragraph">
<p>Use the option type instead.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func lookup(x : key) : ?Nat { ... }</code></pre>
</div>
</div>
</li>
<li>
<p>Data is immutable in Motoko unless explicitly stated otherwise.</p>
<div class="paragraph">
<p>Use mutability types and definitions (<code>var</code>) with care and only where needed.</p>
</div>
<div class="paragraph">
<p>Rationale: Mutable data cannot be communicated or share across actors.
It is more error-prone and much more difficult to formally reason about, especially when concurrency is involved.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_features"><a class="anchor" href="#_features"></a>Features</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_statements"><a class="anchor" href="#_statements"></a>Statements</h3>
<div class="ulist">
<ul>
<li>
<p>Use <code>for</code> loops instead of <code>while</code> loops for iterating over a numeric range or a container.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">for (i in Iter.range(1, 10)) { ... };
for (x in array.vals()) { ... };</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rationale: For loops are less error-prone and easier to read.</p>
</div>
</li>
<li>
<p>Use <code>if</code> or <code>switch</code> as expressions where appropriate.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func abs(i : Int) : Int { if (i &lt; 0) -i else i };

let delta = switch mode { case (#up) +1; case (#dn) -1 };</code></pre>
</div>
</div>
</li>
<li>
<p>Motoko requires that all expressions in a block have type <code>()</code>, in order to prevent accidentally dropped results.</p>
<div class="paragraph">
<p>Use <code>ignore</code> to explicitly drop results. Do <em>not</em> use <code>ignore</code> when it&#8217;s not needed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">ignore async f();  // fire of a computation</code></pre>
</div>
</div>
</li>
<li>
<p>Motoko allows to omit the <code>return</code> at the end of a function, because a block evaluates to its last expression.</p>
<div class="paragraph">
<p>Use this when a function is short and in "functional" style, that is, the function does not contain complex control flow or side effects.</p>
</div>
<div class="paragraph">
<p>Use explicit <code>return</code> at the end when the function contains other <code>return</code> statements or imperative control flow.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-motoko hljs" data-lang="motoko">func add(i : Nat, j : Nat) : Nat { i + j };

func foo(a : Float, b : Float) : Float {
  let c = a*a + b*b;
  c + 2*c*c;
};

func gcd(i : Nat, j : Nat) : Nat {
  if (j == 0) i else gcd(j, i % j);
};

func gcd2(i : Nat, j : Nat) : Nat {
  var a = i;
  var b = j;
  while (b &gt; 0) {
    let c = a;
    a := b;
    b := c % b;
  };
  return a;
};</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_objects_and_records"><a class="anchor" href="#_objects_and_records"></a>Objects and records</h3>
<div class="ulist">
<ul>
<li>
<p>Use the short-hand object syntax <code>{x1 = e1; &#8230;&#8203; ; xN = eN}</code> when using objects as simple <em>records</em>, i.e., data structures with no private state and no methods.</p>
</li>
<li>
<p>Use <code>object</code> when creating singleton objects.</p>
</li>
<li>
<p>Limit the use of objects to records where possible.</p>
<div class="paragraph">
<p>Rationale: Only records can be sent as message parameters or results and can be stored in stable variables. Objects with methods are also more expensive to create and represent in memory.</p>
</div>
</li>
<li>
<p>Use full objects only as a means for encapsulating state or behaviour.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_classes"><a class="anchor" href="#_classes"></a>Classes</h3>
<div class="ulist">
<ul>
<li>
<p>Use <code>class</code> to create multiple objects of the same shape.</p>
</li>
<li>
<p>Name classes after their conceptual <em>functionality</em>, not their <em>implementation</em>, except when having to distinguish multiple different implementations of the same concept (for example, <code>OrderedMap</code> vs <code>HashMap</code>).</p>
</li>
<li>
<p>Classes are both type definitions and factory functions for objects.</p>
<div class="paragraph">
<p>Do not use classes unless both these roles are intended; use plain type aliases or functions returning an object in other cases.</p>
</div>
</li>
<li>
<p>Do not overuse classes.</p>
<div class="paragraph">
<p>Use a module defining a plain type and functions on it where appropriate.
Use classes only as a means for encapsulating state or behaviour.</p>
</div>
<div class="paragraph">
<p>Rationale: Objects with methods have disadvantages over simple record types with separate functions (see above).</p>
</div>
</li>
<li>
<p>If values of a class are meant to be sendable (shared), the class needs to provide a pair of <code>share</code>/<code>unshare</code> methods that convert to/from a sharable representation, for example, as a record.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For immutable classes it may seem more natural to make <code>unshare</code> a kind of static function.
However, even for immutable ones it may depend on constructor arguments (such as an ordering function), so that the a pattern like <code>Map(compareInt).unshare(x)</code> seems appropriate.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>For the time being, avoid overloading classes with too many methods, since that is currently expensive.</p>
<div class="paragraph">
<p>Restrict to a sufficiently small set of canonical methods and make less essential ones that can be implemented on top of those into functions in the enclosing module.</p>
</div>
</li>
<li>
<p>Use modules for "static" classes or methods.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_modules"><a class="anchor" href="#_modules"></a>Modules</h3>
<div class="ulist">
<ul>
<li>
<p>Use <code>module</code> to group definitions (including types) and create a name spae for them.</p>
</li>
<li>
<p>Where applicable, name modules after the main type or class they implement or provide functions for.</p>
</li>
<li>
<p>Limit each module to a single main concept/type/class or closely entangled family of concepts/types/classes.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar">
  
  <div class="toc-menu"></div>
</aside></div>
</main>
</div>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<!--阿里图标库-->
<link rel="stylesheet" href="https://at.alicdn.com/t/font_3286973_o9mkce5aj7.css" />

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
    appId: 'ZM55OFXXZ2',
    apiKey: 'a7d619461c99684e30dd0b3e9d375513',
    indexName: 'smartcontracts.org',
    inputSelector: '.search-input',
    debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
<!--DFINITY帮助机器人-->
<!-- Start of dfinity Zendesk Widget script -->
<!--<script id="ze-snippet" src="https://static.zdassets.com/ekr/snippet.js?key=53121947-c10a-484c-b99b-f89a9fb6f63e"> </script>-->
<!-- End of dfinity Zendesk Widget script -->

  </body>
</html>
